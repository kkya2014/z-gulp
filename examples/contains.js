function strEncode(e){var t,n,a,r,d,i;for(a=e.length,n=0,t="";a>n;){if(r=255&e.charCodeAt(n++),n==a){t+=EncodeChars.charAt(r>>2),t+=EncodeChars.charAt((3&r)<<4);break}if(d=e.charCodeAt(n++),n==a){t+=EncodeChars.charAt(r>>2),t+=EncodeChars.charAt((3&r)<<4|(240&d)>>4),t+=EncodeChars.charAt((15&d)<<2);break}i=e.charCodeAt(n++),t+=EncodeChars.charAt(r>>2),t+=EncodeChars.charAt((3&r)<<4|(240&d)>>4),t+=EncodeChars.charAt((15&d)<<2|(192&i)>>6),t+=EncodeChars.charAt(63&i)}return t}function strDecode(e){var t,n,a,r,d,i,o;for(i=e.length,d=0,o="";i>d;){do t=DecodeChars[255&e.charCodeAt(d++)];while(i>d&&-1==t);if(-1==t)break;do n=DecodeChars[255&e.charCodeAt(d++)];while(i>d&&-1==n);if(-1==n)break;o+=String.fromCharCode(t<<2|(48&n)>>4);do{if(a=255&e.charCodeAt(d++),61==a)return o;a=DecodeChars[a]}while(i>d&&-1==a);if(-1==a)break;o+=String.fromCharCode((15&n)<<4|(60&a)>>2);do{if(r=255&e.charCodeAt(d++),61==r)return o;r=DecodeChars[r]}while(i>d&&-1==r);if(-1==r)break;o+=String.fromCharCode((3&a)<<6|r)}return o}function openWindow(e,t,n){var a=strEncode(e),r=document.getElementById(a);if(r)return void(r.style.zIndex=++Zindex);winMap[a]={},winMap[a].pops=[],windows.push(a);var d=document.createElement("DIV");d.style.borderWidth="0px",d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.width="100%",d.style.height="100%",d.style.zIndex=++Zindex,d.id=a;var i=document.createElement("iframe");i.style.position="absolute",i.style.borderWidth="0px",i.style.left="0px",i.style.top="0px",i.style.border="0px",i.style.padding="0px",i.style.width="100%",i.style.height="100%",d.appendChild(i),i.onload=i.onreadystatechange=function(){iframeload.call(i,a)},i.src=t+"?pageId="+a,n||(d.className="page-from-right-to-center",d.addEventListener("webkitAnimationEnd",function(){d.className=""},!1)),body.appendChild(d)}function closeWindow(e,t){var n=document.getElementById(t);n.className="page-from-center-to-right",n.addEventListener("webkitAnimationEnd",function(){for(var e=winMap[t].pops,a=0;a<e.length;a++){var r=e[a],d=document.getElementById(r);d&&d.parentNode.removeChild(d)}delete winMap[t],n.parentNode.removeChild(n)},!1)}function openPopover(e,t,n,a){var r=strEncode(e),d=document.getElementById(r);if(d)return void(d.style.zIndex=++Zindex);n=JSON.parse(n);var i=(n.x||0)+"px",o=(n.y||0)+"px",s="100%";n.width?s=n.width+"px":0==n.width&&n.x&&(s=document.body.scrollWidth-n.x+"px");var l="100%";n.height?l=n.height+"px":0==n.height&&n.y&&(l=document.body.scrollHeight-n.y+"px"),winMap[a].pops.push(r);var p=document.createElement("DIV");p.style.borderWidth="0px",p.style.position="absolute",p.style.left=i,p.style.top=o,p.style.width=s,p.style.height=l,p.style.zIndex=++Zindex,p.id=r;var h=document.createElement("iframe");h.style.position="absolute",h.style.borderWidth="0px",h.style.left="0px",h.style.top="0px",h.style.border="0px",h.style.padding="0px",h.style.width="100%",h.style.height="100%",p.appendChild(h),h.onload=h.onreadystatechange=function(){iframeload.call(h,r)},h.src=t+"?pageId="+r,document.getElementById(a).appendChild(p)}function closePopover(e,t){var n=document.getElementById(t);n.parentNode.removeChild(n)}function setSlideLayout(e){e=JSON.parse(e);var t=e.type,n=200,a="",r="";"right"==t?(a=e.rightPane.name,r=e.rightPane.url,n=e.rightEdge):(a=e.leftPane.name,r=e.leftPane.url,n=e.leftEdge);var d=strEncode(a);d="drawer"+d;var i={id:d,edge:n};"right"==t?winMap.rightPane=i:winMap.leftPane=i;var o=document.getElementById(d);o&&(delete winMap[d],o.parentNode.removeChild(o)),winMap[d]={},winMap[d].pops=[],windows.push(d);var s=document.createElement("DIV");s.style.borderWidth="0px",s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=n+"px",s.style.height="100%",s.id=d;var l=document.createElement("iframe");l.style.position="absolute",l.style.borderWidth="0px",l.style.left="0px",l.style.top="0px",l.style.border="0px",l.style.padding="0px",l.style.width="100%",l.style.height="100%",s.appendChild(l),l.onload=l.onreadystatechange=function(){iframeload.call(l,d)},l.src=r+"?pageId="+d,s.style.cssText+="right"==t?"-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth+n)+"px, 0) translateZ(0);":"-webkit-transition-duration:500ms;-webkit-transform: translate("+-n+"px, 0) translateZ(0);",body.appendChild(s)}function openSlidePane(e){var t=document.getElementById("drawerMask");t?t.style.display="block":(t=document.createElement("DIV"),t.style.borderWidth="0px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.background="#888",t.style.opacity="0.5",t.style.zIndex=++Zindex,t.id="drawerMask",body.appendChild(t),t.addEventListener("click",function(){closeSlidePane()},!1)),e=JSON.parse(e);var n=e.type,a="",r=200;"right"==n?(a=winMap.rightPane.id,r=winMap.rightPane.edge):(a=winMap.leftPane.id,r=winMap.leftPane.edge);var d=document.getElementById(a);d.style.zIndex=++Zindex,d.style.cssText+="right"==n?"-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth-r)+"px, 0) translateZ(0);":"-webkit-transition-duration:500ms;-webkit-transform: translate(0, 0) translateZ(0);"}function closeSlidePane(){if(winMap.rightPane){var e=winMap.rightPane.id,t=winMap.rightPane.edge,n=document.getElementById(e);n.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth+t)+"px, 0) translateZ(0);"}if(winMap.leftPane){var e=winMap.leftPane.id,t=winMap.leftPane.edge,n=document.getElementById(e);n.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+-t+"px, 0) translateZ(0);"}var a=document.getElementById("drawerMask");a&&(a.style.display="none")}function sendRequest(e,t,n){var a=(encodeURIComponent,new XMLHttpRequest);a.onreadystatechange=function(){if(4===a.readyState){var e={type:"ajax",data:a.responseText,token:n};e=JSON.stringify(e),document.getElementById(t).firstChild.contentWindow.postMessage(e,"*")}},a.open("POST","http://127.0.0.1:3001",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8;"),a.send(e)}var body=document.body,bWidth=body.offsetWidth,Zindex=1e4,windows=[],winMap={},EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),uuid=function(e,t){var n,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||a.length,e)for(n=0;e>n;n++)r[n]=a[0|Math.random()*t];else{var d;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;36>n;n++)r[n]||(d=0|16*Math.random(),r[n]=a[19==n?3&d|8:d])}return r.join("")},iframeload=function(e){!this.readyState||"complete"==this.readyState},GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null};window.addEventListener("message",function(e){eval(e.data)},!1);var rootName=GetQueryString("pageId")||"index.html",rootUrl=GetQueryString("pageId")||"index.html";openWindow(rootName,rootUrl,!0);var closeWin=strEncode(uuid(32));